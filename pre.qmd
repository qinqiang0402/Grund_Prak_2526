---
title: "Demographie & Arbeitsmarkt"
subtitle: "Grundlegendes Praxisprojekt"
author: "Qiang Qin, Shihan Hu, Yuechen Wang, Yuqin Huang"
institute: | 
  <br> Eugen Gorich <br><br>
  München
date: today

format:
  revealjs:
    embed-resources: true
    slide-number: c
    logo: "images/LMU_Logo.svg"

css: customstyle.css
editor: visual
server: shiny
---

```{r}
#| label: setup
#| include: false

# 加载你需要的包
library(shiny)
library(tidyverse)
library(readxl)
library(sf)
library(stringr)
library(forcats)
library(ggpubr)
library(leaflet)

# 把所有要用到的图从 RDS 里读进来
leaflet_sv_durchschnitt <- readRDS("results/figures/SV/leaflet_sv_durchschnitt.rds")

#_________________________________________________________________________________________________________
hmk_korr_ponit_nach_stadtteile_color <- readRDS("results/figures/Haushalt_mit_Kindern/hmk_korr_ponit_nach_stadtteile_color.rds")
hmk_korr_point_line_nach_stadtteile_color <- readRDS("results/figures/Haushalt_mit_Kindern/hmk_korr_point_line_nach_stadtteile_color.rds")
hmk_simpson_stadtteile_kleiner_0 <- readRDS("results/figures/Haushalt_mit_Kindern/hmk_simpson_stadtteile_kleiner_0.rds")
hmk_korr_gesamt_point_sw <- readRDS("results/figures/Haushalt_mit_Kindern/hmk_korr_gesamt_point_sw.rds")
hmk_korr_point_nach_jahr_color <-  readRDS("results/figures/Haushalt_mit_Kindern/hmk_korr_point_nach_jahr_color.rds")
hmk_korr_point_line_nach_jahr_color <- readRDS("results/figures/Haushalt_mit_Kindern/hmk_korr_point_line_nach_jahr_color.rds")

#______________________________________________________________________________
ki_dual_trend <- readRDS("results/figures/Kinderbetreuung/ki_dual_trend.rds")
ki_map_2015 <- readRDS("results/figures/Kinderbetreuung/map_ki_2015.rds")
sv_map_2015 <- readRDS("results/figures/Kinderbetreuung/map_sv_2015.rds")
ki_point_korr_gesamt_sw <- readRDS("results/figures/Kinderbetreuung/ki_point_korr_gesamt_sw.rds")
ki_point_line_color <- readRDS("results/figures/Kinderbetreuung/ki_point_line_color.rds")
ki_simpson_sw <- readRDS("results/figures/Kinderbetreuung/ki_simpson_sw.rds")
ki_point_line_korr_nach_stadtteile_color <- readRDS("results/figures/Kinderbetreuung/ki_point_line_korr_nach_stadtteile_color.rds")

#__________________________________________________________________________
m_effekt_01 <- readRDS("results/figures/m_effekt/m_effekt_01.rds")
m_effekt_02 <- readRDS("results/figures/m_effekt/m_effekt_02.rds")

#_____________________________________________________________________________
geburtenrate_dual_trend <- readRDS("results/figures/Geburtenrate/geburtenrate_dual_trend.rds")
geburtenrate_trend_nach_stadtteile <- readRDS("results/figures/Geburtenrate/geburtenrate_trend_nach_stadtteile.rds")
geburtenrate_korr_nach_stadtteile <- readRDS("results/figures/Geburtenrate/geburtenrate_korr_nach_stadtteile.rds")
geburtenrate_korr_trend_nach_jahr <- readRDS("results/figures/Geburtenrate/geburtenrate_korr_trend_nach_jahr.rds")

#_______________________________________________________________________________
mea_gesamt_sw <- readRDS("results/figures/MEA/mea_gesamt_sw.rds")
mea_korr_nach_stadtteilen_point <- readRDS("results/figures/MEA/mea_korr_nach_stadtteilen_point.rds")
mea_korr_nach_stadtteilen_point_line <- readRDS("results/figures/MEA/mea_korr_nach_stadtteilen_point_line.rds")
mea_korr_jahr_point <- readRDS("results/figures/MEA/mea_korr_jahr_point.rds")
mea_korr_jahr_point_line <- readRDS("results/figures/MEA/mea_korr_jahr_point_line.rds")


# =================================================================
# Shiny 地图用的数据准备（von Shiny Skript übernommen）
# =================================================================

# 1. Geometrie der Münchner Stadtbezirke laden
geojson_url <- "https://geoportal.muenchen.de/geoserver/gsm_wfs/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=gsm_wfs:vablock_stadtbezirke_opendata&outputFormat=application/json"
munich_map <- st_read(geojson_url, quiet = TRUE) %>% 
  st_transform(4326)

# 2. Excel-Daten laden
# 注意：这里相对路径用项目根目录的写法，而不是 ../../
be_sheet <- read_excel("data/raw/export_be.xlsx", sheet = "BEVÖLKERUNG")
ar_sheet <- read_excel("data/raw/export_ar.xlsx", sheet = "ARBEITSMARKT")
ki_sheet <- read_excel("data/raw/export_ki.xlsx", sheet = "KINDERBETREUUNG") 

# 3. 各个指标（Variable）长表格式（long-format）

# 3.1 Durchschnittsalter Mütter erstgebärend
be_data_long <- be_sheet %>%
  filter(
    Indikator == "Durchschnittsalter Mütter erstgebärend", 
    Ausprägung == "insgesamt", 
    Raumbezug != "Stadt München"
  ) %>%
  mutate(
    age_mean = `Basiswert 1` / `Basiswert 2`,
    bezirksnummer = sprintf("%02d", as.numeric(str_extract(Raumbezug, "^\\d+")))
  ) %>%
  select(Jahr, bezirksnummer, age_mean) %>% 
  filter(!is.na(bezirksnummer))

# 3.2 Anteil Frauenbeschäftigung
ar_data_long <- ar_sheet %>%
  filter(
    Indikator == "Sozialversicherungspflichtig Beschäftigte - Anteil", 
    Ausprägung == "weiblich", 
    Raumbezug != "Stadt München"
  ) %>%
  mutate(
    anteil = 100 * `Basiswert 1` / `Basiswert 2`,
    bezirksnummer = sprintf("%02d", as.numeric(str_extract(Raumbezug, "^\\d+")))
  ) %>%
  select(Jahr, bezirksnummer, anteil) %>% 
  filter(!is.na(bezirksnummer))

# 3.3 Haushalte mit Kindern
hh_data_long <- be_sheet %>%
  filter(
    Indikator == "Haushalte mit Kindern", 
    Ausprägung == "insgesamt", 
    Raumbezug != "Stadt München"
  ) %>%
  mutate(
    anteil_kinder = 100 * `Basiswert 1` / `Basiswert 2`,
    bezirksnummer = sprintf("%02d", as.numeric(str_extract(Raumbezug, "^\\d+")))
  ) %>%
  select(Jahr, bezirksnummer, anteil_kinder) %>% 
  filter(!is.na(bezirksnummer))

# 3.4 Kinderbetreuungsquote 0–2 Jahre
# Schritt A: Nenner (Alle Kinder 0–2) aus BEVÖLKERUNG
df_total <- be_sheet %>%
  filter(
    Indikator == "Altersgruppen", 
    Ausprägung == "bis 2 Jahre", 
    Raumbezug != "Stadt München"
  ) %>%
  select(Jahr, Raumbezug, kinder_total = `Basiswert 1`)

# Schritt B: Zähler (Betreute Kinder) aus KINDERBETREUUNG
df_betreut_raw <- ki_sheet %>%
  filter(
    Indikator == "Altersgruppen", 
    Ausprägung == "bis 2 Jahre", 
    Raumbezug != "Stadt München"
  ) %>%
  select(Jahr, Raumbezug, kinder_betreut = `Basiswert 1`)

# Schritt C: Join + Quote
betreuung_data_long <- df_total %>%
  left_join(df_betreut_raw, by = c("Jahr", "Raumbezug")) %>%
  mutate(
    anteil_betreuung = 100 * kinder_betreut / kinder_total,
    bezirksnummer = sprintf("%02d", as.numeric(str_extract(Raumbezug, "^\\d+")))
  ) %>%
  select(Jahr, bezirksnummer, anteil_betreuung) %>%
  filter(!is.na(bezirksnummer))

# 3.5 Geburtenrate (wie im Shiny-Skript)
gr_data_long <- be_sheet %>%
  filter(
    Indikator == "Allgemeine Geburtenrate",
    Ausprägung == "insgesamt",
    Raumbezug != "Stadt München"
  ) %>%
  mutate(
    new_baby = 100 * `Basiswert 1` / `Basiswert 2`, 
    bezirksnummer = sprintf("%02d", as.numeric(str_extract(Raumbezug, "^\\d+")))
  ) %>%
  select(Jahr, bezirksnummer, new_baby) %>%
  filter(!is.na(bezirksnummer))

# 3.6 Alle Variablen zusammenmergen
combined_data_all <- be_data_long %>%
  full_join(ar_data_long,       by = c("Jahr", "bezirksnummer")) %>%
  full_join(hh_data_long,       by = c("Jahr", "bezirksnummer")) %>%
  full_join(betreuung_data_long,by = c("Jahr", "bezirksnummer")) %>%
  full_join(gr_data_long,       by = c("Jahr", "bezirksnummer"))

# 3.7 Mit Geometrie verknüpfen (sf)
final_sf_data_long <- munich_map %>%
  left_join(combined_data_all, by = c("sb_nummer" = "bezirksnummer")) %>%
  filter(!is.na(Jahr))

# 3.8 Globale Konstanten für Shiny
MAP_NAME_COLUMN <- "name" 
MIN_YEAR <- min(final_sf_data_long$Jahr, na.rm = TRUE)
MAX_YEAR <- max(final_sf_data_long$Jahr, na.rm = TRUE)

variable_choices <- c(
  "Muttererstgeburtsalter"                   = "age_mean",
  "Anteil Frauenbeschäftigung (%)"          = "anteil",
  "Anteil Haushalte mit Kindern (%)"        = "anteil_kinder",
  "Betreuungsquote Kinder 0-2 Jahre (%)"    = "anteil_betreuung",
  "Geburtenrate (%)"                        = "new_baby"
)

# Globale Min/Max für konsistente Farben
GLOBAL_MIN_AGE        <- min(final_sf_data_long$age_mean,          na.rm = TRUE); GLOBAL_MAX_AGE        <- max(final_sf_data_long$age_mean,          na.rm = TRUE)
GLOBAL_MIN_ANTEIL     <- min(final_sf_data_long$anteil,            na.rm = TRUE); GLOBAL_MAX_ANTEIL     <- max(final_sf_data_long$anteil,            na.rm = TRUE)
GLOBAL_MIN_KINDER     <- min(final_sf_data_long$anteil_kinder,     na.rm = TRUE); GLOBAL_MAX_KINDER     <- max(final_sf_data_long$anteil_kinder,     na.rm = TRUE)
GLOBAL_MIN_BETREUUNG  <- min(final_sf_data_long$anteil_betreuung,  na.rm = TRUE); GLOBAL_MAX_BETREUUNG  <- max(final_sf_data_long$anteil_betreuung,  na.rm = TRUE)
GLOBAL_MIN_BABY       <- min(final_sf_data_long$new_baby,          na.rm = TRUE); GLOBAL_MAX_BABY       <- max(final_sf_data_long$new_baby,          na.rm = TRUE)

```

## Agenda

1.  Datenüberblick

2.  Datenanalyse

    -   Frauenbeschäftigung

    -   Zusammenhang

        -   Haushalte mit Kindern

        -   Kinderbetreuung

3.  Fazit - Limitation - Ausblick

## Agenda

1.  Datenüberblick

[2. Datenanalyse]{style="color:lightgray;"}

-   [Frauenbeschäftigung]{style="color:lightgray;"}
-   [Zusammenhang]{style="color:lightgray;"}
    -   [Haushalte mit Kindern]{style="color:lightgray;"}
    -   [Kinderbetreuung]{style="color:lightgray;"}

[3. Fazit - Limitation - Ausblick]{style="color:lightgray;"}

## 

![](images/clipboard-3386569485.png)

## Daten

表格

-   Datenaufbau <br>

-   Untersuchte Variablen <br>

-   Datenquellen (Fußnote) <br>

## Agenda

[1. Datenüberblick]{style="color:lightgray;"}

2.  Datenanalyse

    -   Frauenbeschäftigung

    -   [Zusammenhang]{style="color:lightgray;"}

        -   [Haushalte mit Kindern]{style="color:lightgray;"}

        -   [Kinderbetreuung]{style="color:lightgray;"}

[3. Fazit - Limitation - Ausblick]{style="color:lightgray;"}

------------------------------------------------------------------------

## Frauenbeschäftigung

*(Anteil weiblicher sozialversicherungspflichtig Beschäftigter)*

<br> <br>

Weibliche Bevölkerung, die in einem Arbeitsverhältnis stehen und deren Einkommen der Pflicht zur Zahlung von Sozialversicherungsbeiträgen unterliegt

## Frauenbeschäftigung

```{r}

#| echo: false
#| fig-align: center
#| fig-width: 16
#| fig-height: 9
#| fig-dpi: 300

leaflet_sv_durchschnitt

```


```{r}
#| context: server


# 1. Reaktive gefilterte Daten (immer aktuelles Jahr + gewählte Variable)
filtered_sf_data <- reactive({
  final_sf_data_long %>% 
    filter(Jahr == input$time_slider) %>%
    select(
      sb_nummer,
      !!sym(MAP_NAME_COLUMN),
      geometry,
      Value = !!sym(input$variable_select)
    )
})

# 2. Grundkarte (wird einmal initialisiert)
output$map_output <- renderLeaflet({
  leaflet(options = leafletOptions(minZoom = 10, maxZoom = 14)) %>%
    addTiles() %>%  # 默认 OSM 底图，稳定不报错
    setView(lng = 11.5761, lat = 48.1372, zoom = 10)
})

# 3. Karte bei Änderung von Slider / Variable neu einfärben
observe({
  current_sf <- filtered_sf_data()
  var_id     <- input$variable_select
  var_label  <- names(variable_choices)[variable_choices == var_id]
  
  # ---- Farbbereich & Einheit je nach Variable ----
  if (var_id == "age_mean") {
    # Mütteralter -> pink ("RdPu")
    c_min <- GLOBAL_MIN_AGE;       c_max <- GLOBAL_MAX_AGE
    unit  <- " Jahre";             dec   <- 2
    pal_name <- "RdPu"
    
  } else if (var_id == "anteil") {
    # Frauenbeschäftigung -> blau
    c_min <- GLOBAL_MIN_ANTEIL;    c_max <- GLOBAL_MAX_ANTEIL
    unit  <- " %";                 dec   <- 1
    pal_name <- "Blues"
    
  } else if (var_id == "anteil_kinder") {
    # Haushalte mit Kindern -> grün
    c_min <- GLOBAL_MIN_KINDER;    c_max <- GLOBAL_MAX_KINDER
    unit  <- " %";                 dec   <- 1
    pal_name <- "Greens"
    
  } else if (var_id == "anteil_betreuung") {
    # Kinderbetreuung -> violett
    c_min <- GLOBAL_MIN_BETREUUNG; c_max <- GLOBAL_MAX_BETREUUNG
    unit  <- " %";                 dec   <- 1
    pal_name <- "Purples"
    
  } else {
    # Geburtenrate -> rot (Werte klein,多几位小数)
    c_min <- GLOBAL_MIN_BABY;      c_max <- GLOBAL_MAX_BABY
    unit  <- "";                   dec   <- 4
    pal_name <- "Reds"
  }
  
  pal <- colorNumeric(palette = pal_name, domain = c(c_min, c_max))
  
  popup_content <- paste0(
    "<b>Bezirk:</b> ", current_sf[[MAP_NAME_COLUMN]], "<br/>",
    "<b>", var_label, ":</b> ", round(current_sf$Value, dec), unit
  )
  
  leafletProxy("map_output", data = current_sf) %>%
    clearShapes() %>%
    clearControls() %>%
    addPolygons(
      fillColor = ~pal(Value),
      weight = 1.5,
      opacity = 1,
      color = "white",
      dashArray = "1",
      fillOpacity = 0.7,
      label = lapply(popup_content, HTML),
      highlightOptions = highlightOptions(
        weight = 3,
        color  = "#666",
        fillOpacity = 0.9,
        bringToFront = TRUE
      )
    ) %>%
    addLegend(
      pal      = pal,
      values   = c(c_min, c_max),
      opacity  = 0.7,
      title    = var_label,
      labFormat= labelFormat(suffix = unit, digits = dec),
      position = "bottomright"
    )
})
```

## Frauenbeschäftigung

```{r}
#| panel: sidebar
# 这里是 Shiny 的 UI 控件（侧边栏）
selectInput(
  "variable_select",
  "Indikator wählen:",
  choices  = variable_choices,
  selected = "anteil"    # 默认先看 Frauenbeschäftigung
)

sliderInput(
  "time_slider",
  "Jahr:",
  min     = MIN_YEAR,
  max     = MAX_YEAR,
  value   = MAX_YEAR,
  step    = 1,
  sep     = "",
  animate = TRUE
)
```

```{r}
#| panel: fill
# 主区域放地图
leafletOutput("map_output", height = "650px")
```

------------------------------------------------------------------------

## Agenda

[1. Datenüberblick]{style="color:lightgray;"}

2.  Datenanalyse

    -   [Frauenbeschäftigung]{style="color:lightgray;"}

    -   Zusammenhang

        -   Haushalte mit Kindern

        -   [Kinderbetreuung]{style="color:lightgray;"}

[3. Fazit - Limitation - Ausblick]{style="color:lightgray;"}

## Haushalte mit Kindern

<br><br> Privathaushalte mit mindestens einem Kind bis 17 Jahre (mit mindestens einer Hauptwohnsitzperson)

## Haushalte mit Kindern (gesamt)

```{r}
#| label: hmk_korr_gesamt_point_sw
#| echo: false
#| fig-align: center
#| fig-width: 16
#| fig-height: 9
#| fig-dpi: 300

hmk_korr_gesamt_point_sw
```

## Haushalte mit Kindern (Stadtteile)

```{r}
#| label: hmk_korr_point_line_nach_stadtteile_color
#| echo: false
#| fig-align: center
#| fig-width: 16
#| fig-height: 9
#| fig-dpi: 300

hmk_korr_point_line_nach_stadtteile_color
```

## Haushalte mit Kindern (Stadtteile)

```{r}

#| echo: false
#| fig-align: center
#| fig-width: 16
#| fig-height: 9
#| fig-dpi: 300

hmk_simpson_stadtteile_kleiner_0

```

## Haushalte mit Kindern (Jahre)

```{r}

#| echo: false
#| fig-align: center
#| fig-width: 16
#| fig-height: 9
#| fig-dpi: 300

hmk_korr_point_line_nach_jahr_color

```

## Agenda

[1. Datenüberblick]{style="color:lightgray;"}

2.  Datenanalyse

    -   [Frauenbeschäftigung]{style="color:lightgray;"}

    -   Zusammenhang

        -   [Haushalte mit Kindern]{style="color:lightgray;"}

        -   Kinderbetreuung

[3. Fazit - Limitation - Ausblick]{style="color:lightgray;"}

## Kinderbetreuung

<br><br><br>

::: {style="font-size:1.8rem;"}
$$
\text{Kinderbetreuungsquote (0–2)}
=
\dfrac{
  \hspace{0.6cm}\text{# Betreute Kinder (0–2)}\hspace{0.6cm}
}{
  \hspace{0.6cm}\text{# Alle Kinder (0–2)}\hspace{0.6cm}
}
\quad\times 100\%
$$
:::

------------------------------------------------------------------------

#### Dual-Trend: Kinderbetreuung vs. Frauenbeschäftigung (2007–2024)

```{r}
#| label: ki-dual_trend
#| echo: false
#| fig-align: center
#| fig-width: 9
#| fig-height: 5
#| fig-dpi: 300
##| out.extra: 'style="margin-left:-60px;"'

range_left  <- range(ki_dual_trend$data$share_enrolled, na.rm = TRUE)
range_right <- range(ki_dual_trend$data$emp_women,       na.rm = TRUE)

scale_factor <- (range_left[2] - range_left[1]) / (range_right[2] - range_right[1])

ki_dual_trend
```

## Korrelation (gesamt)

```{r}

#| echo: false
#| fig-align: center
#| fig-width: 7
#| fig-height: 4
#| fig-dpi: 300



ki_point_korr_gesamt_sw
```

## Korrelation nach Stadtteilen

```{r}

#| echo: false
#| fig-align: center
#| fig-width: 7
#| fig-height: 4
#| fig-dpi: 300



ki_simpson_sw
```

## Korrelation nach Stadtteilen

```{r}

#| echo: false
#| fig-align: center
#| fig-width: 7
#| fig-height: 4
#| fig-dpi: 300



ki_point_line_korr_nach_stadtteile_color
```


## Korrelation (gesamt)

```{r}
#| label: ki-korr-raumlich
#| echo: false
#| fig-align: center
#| fig-width: 7
#| fig-height: 4
#| fig-dpi: 300



ki_point_korr_gesamt_sw
```

## Korrelation nach Jahre

```{r}
#| echo: false
#| fig-align: center
#| fig-width: 7
#| fig-height: 4
#| fig-dpi: 300



ki_point_line_color
```

## Zusammenhang 2015

<br><br>

```{r}
#| echo: false
#| layout-ncol: 2
#| fig-width: 7
#| fig-height: 4
#| fig-align: center

sv_map_2015
ki_map_2015
```



## Agenda

[1. Datenüberblick]{style="color:lightgray;"}

2.  Datenanalyse

    -   [Frauenbeschäftigung]{style="color:lightgray;"}

    -   Zusammenhang

        -   [Haushalte mit Kindern]{style="color:lightgray;"}

        -   [Kinderbetreuung]{style="color:lightgray;"}

[3. Fazit - Limitation - Ausblick]{style="color:lightgray;"}

## Moderierender Effekt

-   **Gruppenaufteilung:**

    -   **Hohe Betreuung:** obere Drittel der Stadtteile mit der höchsten Kinderbetreuungsquote

    -   **Niedrige Betreuung:** untere Drittel der Stadtteile mit der niedrigsten Kinderbetreuungsquote

## Moderierender Effekt

```{r}
#| label: m_effekt_01
#| echo: false
#| fig-align: center
#| fig-width: 9
#| fig-height: 5
#| fig-dpi: 300

m_effekt_01
```

## Moderierender Effekt

```{r}
#| label: m_effekt_02
#| echo: false
#| fig-align: center
#| fig-width: 9
#| fig-height: 5
#| fig-dpi: 300

m_effekt_02
```

## Agenda

[1. Datenüberblick]{style="color:lightgray;"}

[2. Datenanalyse]{style="color:lightgray;"}

-   [Frauenbeschäftigung]{style="color:lightgray;"}
-   [Zusammenhang]{style="color:lightgray;"}
    -   [Haushalte mit Kindern]{style="color:lightgray;"}
    -   [Kinderbetreuung]{style="color:lightgray;"}

<br> 3. Fazit - Limitation - Ausblick

## Fazit

### Frauenbeschäftigung

```         
- Deutliche regionale Unterschiede zwischen den Stadtteilen.  
- Zentrale Stadtteile zeigen höhere Beschäftigungsanteile und stärkere Zuwächse.  
- Periphere Stadtteile weisen geringere Anteile und langsamere Entwicklungen auf.  
- Insgesamt wächst die Frauenbeschäftigung, jedoch nicht gleichmäßig über die Stadt verteilt.
```

<br>

### Kinderbetreuung

```         
- Große Unterschiede zwischen den Stadtteilen, negative Korrelation nach Stadtteilen 
- Stark positive Korrelation nach Jahre  

  
```

## Limitation

-   **Sozialversicherungspflichtige Beschäftigung** erfasst nicht alle Erwerbstätigen

-   **Nicht kompatible Altersgruppen** zwischen Bevölkerungsdaten (BE) und Kinderbetreuungsdaten (KI) → Betreuungsquoten über 2 Jahre hinaus sind nicht exakt vergleichbar.

-   **Unterschiedliche Zeitabdeckung:**\
    Beschäftigungsdaten ab 2000, Kinderbetreuungsdaten erst ab 2007.

## Ausblick

-   **Feinere Datenebene:**\
    Mikrodatensätze auf Haushaltsebene würden genauere Analysen ermöglichen

-   **Kinderbetreuung weiter untersuchen:**

    -   Politische und zeitliche Effekte berücksichtigen\
    -   Analyse politischer Maßnahmen

-   **Übertragbarkeit prüfen:**\
    Wie verändern sich die Ergebnisse bei größeren Stichproben

## Anhang

#### Literatur

<br> § 7 SGB IV und § 2 SGB IV

## Anhang

Geburtenrate

```{r}

#| echo: false
#| fig-align: center
#| fig-width: 16
#| fig-height: 9
#| fig-dpi: 300

geburtenrate_dual_trend

```

------------------------------------------------------------------------

Geburtenrate

```{r}

#| echo: false
#| fig-align: center
#| fig-width: 21
#| fig-height: 13
#| fig-dpi: 300

geburtenrate_trend_nach_stadtteile

```

------------------------------------------------------------------------

Geburtenrate

```{r}

#| echo: false
#| fig-align: center
#| fig-width: 16
#| fig-height: 9
#| fig-dpi: 300

geburtenrate_korr_nach_stadtteile

```

------------------------------------------------------------------------

Geburtenrate

```{r}

#| echo: false
#| fig-align: center
#| fig-width: 16
#| fig-height: 9
#| fig-dpi: 300

geburtenrate_korr_trend_nach_jahr

```

------------------------------------------------------------------------

### Durchschnittsalter Mütter erstgebärend

```{r}

#| echo: false
#| fig-align: center
#| fig-width: 16
#| fig-height: 9
#| fig-dpi: 300

mea_gesamt_sw

```

------------------------------------------------------------------------

### Durchschnittsalter Mütter erstgebärend

```{r}

#| echo: false
#| fig-align: center
#| fig-width: 16
#| fig-height: 9
#| fig-dpi: 300

mea_korr_nach_stadtteilen_point

```

------------------------------------------------------------------------

### Durchschnittsalter Mütter erstgebärend

```{r}

#| echo: false
#| fig-align: center
#| fig-width: 16
#| fig-height: 9
#| fig-dpi: 300

mea_korr_nach_stadtteilen_point_line

```

------------------------------------------------------------------------

### Durchschnittsalter Mütter erstgebärend

```{r}

#| echo: false
#| fig-align: center
#| fig-width: 16
#| fig-height: 9
#| fig-dpi: 300

mea_korr_jahr_point

```

------------------------------------------------------------------------

### Durchschnittsalter Mütter erstgebärend

```{r}

#| echo: false
#| fig-align: center
#| fig-width: 16
#| fig-height: 9
#| fig-dpi: 300

mea_korr_jahr_point_line

```
